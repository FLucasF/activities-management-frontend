<div class="container-search">
  <div class="content">
    <button routerLink="/" class="back-button">Voltar</button>
    <h1>Binary User Manager</h1>
  </div>
  <br>
  <input type="text" [(ngModel)]="idUser" placeholder="Digite o ID do usuário">
  <br>
  <button (click)="searchUser(); getStatisticsUser()" class="filter-button">Pesquisar</button>
  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
</div>

<div class="container-user-statistics" *ngIf="statisticsUser">
  <h2>Estatísticas do Usuário</h2>
  <ul>
    <li>Total de Respostas: {{ statisticsUser.quantityAllAnswers }}</li>
    <li>Total de Respostas Corretas: {{ statisticsUser.quantityCorrectsAnswers }}</li>
    <li>Total de Respostas Incorretas: {{ statisticsUser.quantityWrongsAnswers }}</li>
    <li>Porcentagem de Respostas Corretas: {{ statisticsUser.percentageCorrectsAnswers }}%</li>
    <li>Porcentagem de Respostas Incorretas: {{ statisticsUser.percentageWrongsAnswers }}%</li>
  </ul>
</div>



<div class="container-responses">
  <div class="content">
    <div *ngIf="userQuestions.length > 0">
      
      <table class="answers-table">
        <thead>
          <tr>
            <th>ID da Aplicação</th>
            <th>Fase da Atividade</th>
            <th>Número da Atividade</th>
            <th>ID do Usuário</th>
            <th>Resposta do Usuário</th>
            <th>Resposta Esperada</th>
            <th>Está Correto</th>
            <th>Data e Hora da Resposta</th>
            <th>Tipo de Questão</th>
          </tr>
        </thead>
          <!-- Utilize o pipe orderBy no ngFor para ordenar as respostas -->
          <tr *ngFor="let question of userQuestions" class="answer-item">
            <!-- Exibir as informações das respostas aqui -->
            <td>{{ question.idApp }}</td>
            <td>{{ question.phaseActivity }}</td>
            <td>{{ question.numberActivity }}</td>
            <td>{{ question.idUser }}</td>
            <td>{{ question.userResponse }}</td>
            <td>{{ question.expectedResponse }}</td>
            <td>{{ question.isCorrect ? 'Sim' : 'Não' }}</td>
            <td>{{ question.dateResponse | date:'dd/MM/yyyy HH:mm:ss' }}</td>
            <td>{{ question.typeOfQuestion }}</td>
          </tr>
      </table>
         


    </div>
  </div>
</div>
